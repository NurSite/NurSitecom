<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Коран — NurSite</title>
  <!-- Шрифты как на guran.com -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
  <!-- Внешний CSS для стилей страницы Коран -->
  <link rel="stylesheet" href="guran.css">
</head>
<body>
  <div class="theme-switcher">
    <select id="themeSelect">
      <option value="system">Система (beta)</option>
      <option value="light">Светлая</option>
      <option value="dark">Тёмная</option>
    </select>
  </div>  <header>
    <h1>Чтение Корана</h1>
    <nav>
      <a href="index.html">Главная</a>
      <a href="quran.html">Коран</a>
      <a href="donate.html">Поддержка</a>
      <a href="about.html">О нас</a>
    </nav>
  </header>  <main>
    <label for="juzSelect">Выберите джуз:</label>
    <select id="juzSelect" onchange="filterSurahs()">
      <option value="">-- Все джузы --</option>
    </select>
    <label for="searchInput">Искать суру по названию:</label>
    <input type="text" id="searchInput" placeholder="Например, Аль-Бакара" oninput="filterSurahs()">
    <div class="result" id="result"></div>
  </main>  <script>
    // Theme switcher
    const themeSelect = document.getElementById('themeSelect');
    const root = document.documentElement;
    function applyTheme(val) {
      root.className = val==='light'? 'theme-light': val==='dark'? 'theme-dark': 'theme-system';
      localStorage.setItem('nurTheme', val);
    }
    const saved = localStorage.getItem('nurTheme')||'system';
    themeSelect.value = saved;
    applyTheme(saved);
    themeSelect.addEventListener('change', ()=>applyTheme(themeSelect.value));

    // Data for filter
    const data = [ /* ...данные джузов и сур... */ ];
    const juzSelect = document.getElementById('juzSelect');
    const searchInput = document.getElementById('searchInput');
    const resultDiv = document.getElementById('result');
    for(let i=1;i<=30;i++){
      let opt=document.createElement('option');
      opt.value=i;
      opt.textContent=`${i}-й джуз`;
      juzSelect.append(opt);
    }
    function filterSurahs(){
      const sj=parseInt(juzSelect.value);
      const q=searchInput.value.toLowerCase();
      let out='';
      data.forEach(it=>{
        if(!sj||it.juz===sj){
          const f=it.surahs.filter(s=>s.toLowerCase().includes(q));
          if(f.length){
            out+=`<strong>${it.juz}-й джуз:</strong><ul>`;
            f.forEach(s=>out+=`<li>${s}</li>`);
            out+='</ul>';
          }
        }
      });
      resultDiv.innerHTML = out||'<p>Ничего не найдено.</p>';
    }
    filterSurahs();
  </script></body>
</html>
